WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"StdLayout2",function(F,D,M,V,W,X,aa,q,E,y,A){function z(a,b,c,f){function i(h){return h=="visible"||h=="none"}var k=s[b],j=b?a.scrollHeight:a.scrollWidth,t,d;if(b==0){var l=e.pxself(a,k.left);if(j+l>f.clientWidth||j+l==f.clientWidth&&e.isGecko&&f.parentNode.parentNode.style.visibility==="hidden"){t=a.style[k.left];v(a,k.left,"-1000000px");j=b?a.scrollHeight:a.scrollWidth}}f=b?a.clientHeight:a.clientWidth;if(e.isGecko&&!a.style[k.size]&&b==0&&i(e.css(a,
"overflow"))){d=a.style[k.size];v(a,k.size,"")}l=b?a.offsetHeight:a.offsetWidth;t&&v(a,k.left,t);d&&v(a,k.size,d);if(f>=1E6)f-=1E6;if(j>=1E6)j-=1E6;if(l>=1E6)l-=1E6;if(j===0){j=e.pxself(a,k.size);if(j!==0&&!e.isOpera&&!e.isGecko)j-=e.px(a,"border"+k.Left+"Width")+e.px(a,"border"+k.Right+"Width")}if(e.isIE&&(e.hasTag(a,"BUTTON")||e.hasTag(a,"TEXTAREA")||e.hasTag(a,"INPUT")||e.hasTag(a,"SELECT")))j=f;if(j>l)if(e.pxself(a,k.size)==0)j=f;else{var m=false;$(a).find(".Wt-popup").each(function(){if(this.style.display!==
"none")m=true});if(m)j=f}d=e.px(a,"border"+k.Left+"Width")+e.px(a,"border"+k.Right+"Width");t=l-(f+d)!=0;if(c)return[j,scrollBar];if(e.isGecko&&b==0&&a.getBoundingClientRect().width!=Math.ceil(a.getBoundingClientRect().width))j+=1;if(!e.boxSizing(a)&&!e.isOpera)j+=d;j+=e.px(a,"margin"+k.Left)+e.px(a,"margin"+k.Right);if(!e.boxSizing(a)&&!e.isIE)j+=e.px(a,"padding"+k.Left)+e.px(a,"padding"+k.Right);j+=l-(f+d);if(j<l)j=l;a=e.px(a,"max"+k.Size);if(a>0)j=Math.min(a,j);return[Math.round(j),t]}function C(a,
b){b=s[b];if(a.style.display==="none")return 0;else if(a["layoutMin"+b.Size])return a["layoutMin"+b.Size];else{var c=e.px(a,"min"+b.Size);e.boxSizing(a)||(c+=e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right));return c}}function x(a,b){b=s[b];var c=e.px(a,"margin"+b.Left)+e.px(a,"margin"+b.Right);if(!e.boxSizing(a)&&!(e.isIE&&!e.isIElt9&&e.hasTag(a,"BUTTON")))c+=e.px(a,"border"+b.Left+"Width")+e.px(a,"border"+b.Right+"Width")+e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right);return c}function N(a,
b){b=s[b];return e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right)}function G(a,b){if(e.boxSizing(a)){b=s[b];return e.px(a,"border"+b.Left+"Width")+e.px(a,"border"+b.Right+"Width")+e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right)}else return 0}function ba(a,b){b=s[b];return Math.round(e.px(a,"border"+b.Left+"Width")+e.px(a,"border"+b.Right+"Width")+e.px(a,"margin"+b.Left)+e.px(a,"margin"+b.Right)+e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right))}function Y(a,b,c){a.dirty=Math.max(a.dirty,b);
P=true;c&&F.layouts2.scheduleAdjust()}function v(a,b,c){if(a.style[b]!==c){a.style[b]=c;return true}else return false}function ka(a){return a.style.display==="none"&&!a.ed||$(a).hasClass("Wt-hidden")}function sa(a,b,c){var f=s[a],i=f.config.length,k=s[a^1].config.length,j=f.measures.slice();if(j.length==5){j[0]=j[0].slice();j[1]=j[1].slice()}if(P){if(c&&typeof f.minSize=="undefined"){f.minSize=e.px(c,"min"+f.Size);if(f.minSize>0)f.minSize-=G(c,a)}var t=[],d=[],l=0,m=0,h,H,r=false;for(h=0;h<i;++h){var n=
0,u=f.config[h][2],p=true;for(H=0;H<k;++H){var g=f.getItem(h,H);if(g){if(!g.w||a==0&&g.dirty>1){var o=$("#"+g.id),w=o.get(0);if(!w){f.setItem(h,H,null);continue}if(w!=g.w){g.w=w;o.find("img").add(o.filter("img")).bind("load",{item:g},function(S){Y(S.data.item,1,true)})}}if(!X&&g.w.style.position!="absolute"){g.w.style.position="absolute";g.w.style.visibility="hidden"}if(!g.ps)g.ps=[];if(!g.sc)g.sc=[];if(!g.ms)g.ms=[];if(!g.size)g.size=[];if(!g.psize)g.psize=[];if(!g.fs)g.fs=[];if(!g.margin)g.margin=
[];if(ka(g.w))g.ps[a]=g.ms[a]=0;else{o=!g.set;if(!g.set)g.set=[false,false];if(g.w){if(e.isIE)g.w.style.visibility="";if(g.dirty){if(g.dirty>1){w=C(g.w,a);g.ms[a]=w}else w=g.ms[a];if(w>u)u=w;if(g.dirty>1)g.margin[a]=x(g.w,a);if(!g.set[a])if(a==0||!o){o=e.pxself(g.w,f.size);g.fs[a]=o?o+g.margin[a]:0}else{o=Math.round(e.px(g.w,f.size));g.fs[a]=o>Math.max(G(g.w,a),w)?o+g.margin[a]:0}o=g.fs[a];if(g.layout){if(o==0)o=g.ps[a];g.ps[a]=o}else{if(g.wasLayout){g.wasLayout=false;g.set=[false,false];g.ps=[];
g.w.wtResize&&g.w.wtResize(g.w,-1,-1,true);v(g.w,s[1].size,"")}w=z(g.w,a,false,b);var K=w[0],T=g.set[a];if(T)if(g.psize[a]>8)T=K>=g.psize[a]-4&&K<=g.psize[a]+4;var la=typeof g.ps[a]!=="undefined"&&f.config[h][0]>0&&g.set[a];o=T||la?Math.max(o,g.ps[a]):Math.max(o,K);g.ps[a]=o;g.sc[a]=w[1]}if(!g.span||g.span[a]==1){if(o>n)n=o}else r=true}else if(!g.span||g.span[a]==1){if(g.ps[a]>n)n=g.ps[a];if(g.ms[a]>u)u=g.ms[a]}else r=true;if(!ka(g.w)&&(!g.span||g.span[a]==1))p=false}}}}if(p)u=n=-1;else if(u>n)n=
u;t[h]=n;d[h]=u;if(u>-1){l+=n;m+=u}}if(r){function pa(S,fa){for(h=0;h<i;++h)for(H=0;H<k;++H){var Z=f.getItem(h,H);if(Z&&Z.span&&Z.span[a]>1){var ca=S(Z),ga=0,ha=0,I;for(I=0;I<Z.span[a];++I){var Q=fa[h+I];if(Q!=-1){ca-=Q;++ga;if(f.config[h+I][0]>0)ha+=f.config[h+I][0]}}if(ca>=0)if(ga>0){if(ha>0)ga=ha;for(I=0;I<Z.span[a];++I){Q=fa[h+I];if(Q!=-1){Q=ha>0?f.config[h+I][0]:1;if(Q>0){var qa=Math.round(ca/Q);ca-=qa;ga-=Q;fa[h+I]+=qa}}}}else fa[h]=ca}}}pa(function(S){return S.ps[a]},t);pa(function(S){return S.ms[a]},
d)}b=0;o=true;r=false;for(h=0;h<i;++h)if(d[h]>-1){if(o){b+=f.margins[1];o=false}else{b+=f.margins[0];if(r)b+=4}r=f.config[h][1]!==0}o||(b+=f.margins[2]);l+=b;m+=b;f.measures=[t,d,l,m,b]}if(da||j[2]!=f.measures[2])ia.updateSizeInParent(a);c&&f.minSize==0&&j[3]!=f.measures[3]&&c.parentNode.className!="Wt-domRoot"&&v(c,"min"+f.Size,f.measures[3]+"px");c&&a==0&&c&&e.hasTag(c,"TD")&&v(c,f.size,f.measures[2]+"px")}function ta(a,b,c){a=s[a];if(ea)c=-c;if(a.config[b][0]>0&&a.config[b+1][0]==0){++b;c=-c}a.fixedSize[b]=
a.sizes[b]+c;F.layouts2.scheduleAdjust()}function ua(a,b,c){var f=b.di,i=s[a],k=s[a^1],j,t=e.getElement(D),d;for(d=f-1;d>=0;--d)if(i.sizes[d]>=0){j=-(i.sizes[d]-i.measures[1][d]);break}f=i.sizes[f]-i.measures[1][f];if(ea){var l=j;j=-f;f=-l}new e.SizeHandle(e,i.resizeDir,e.pxself(b,i.size),e.pxself(b,k.size),j,f,i.resizerClass,function(m){ta(a,d,m)},b,t,c,0,0)}function va(a,b){var c=s[a],f=s[a^1],i=c.measures,k=0,j=false,t=false,d=false,l=ja?b.parentNode:null;if(c.maxSize===0)if(l){var m=e.css(l,"position");
if(m==="absolute")k=e.pxself(l,c.size);if(k===0){if(!c.initialized){if(a===0&&(m==="absolute"||m==="fixed")){l.style.display="none";k=l.clientWidth;l.style.display=""}k=a?l.clientHeight:l.clientWidth;j=true;if(a==0&&k==0&&e.isIElt9){k=l.offsetWidth;j=false}var h;if((e.hasTag(l,"TD")||e.hasTag(l,"TH"))&&!(e.isIE&&!e.isIElt9)){d=0;h=1}else{d=c.minSize?c.minSize:i[3];h=0}function H(T,la){return T-la<=1}if(e.isIElt9&&H(k,h)||H(k,d+N(l,a)))c.maxSize=999999}if(k===0&&c.maxSize===0){k=a?l.clientHeight:l.clientWidth;
j=true}}}else{k=e.pxself(b,c.size);t=true}else if(c.sizeSet){k=e.pxself(l,c.size);t=true}var r=0;if(l&&l.wtGetPS&&a==1)r=l.wtGetPS(l,b,a,0);d=i[2];if(d<c.minSize)d=c.minSize;if(c.maxSize&&!c.sizeSet){k=Math.min(d,c.maxSize)+r;v(l,c.size,k+G(l,a)+"px")&&O&&O.setElDirty(J);k=k;d=t=true}c.cSize=k;if(a==1&&l&&l.wtResize){h=f.cSize;d=c.cSize;l.wtResize(l,Math.round(h),Math.round(d),true)}k-=r;if(!t){t=0;if(typeof c.cPadding==="undefined"){t=j?N(l,a):G(l,a);c.cPadding=t}else t=c.cPadding;k-=t}c.initialized=
true;if(!(l&&k<=0)){if(k<i[3]-r)k=i[3]-r;j=[];l=c.config.length;t=f.config.length;for(d=0;d<l;++d)c.stretched[d]=false;if(k>=i[3]-r){r=k-i[4];h=[];var n=[0,0],u=[0,0],p=0;for(d=0;d<l;++d)if(i[1][d]>-1){m=-1;if(typeof c.fixedSize[d]!=="undefined"&&(d+1==l||i[1][d+1]>-1))m=c.fixedSize[d];else if(c.config[d][1]!==0&&c.config[d][1][0]>=0){m=c.config[d][1][0];if(c.config[d][1][1])m=(k-i[4])*m/100}if(m>=0){h[d]=-1;j[d]=m;r-=j[d]}else{if(c.config[d][0]>0){m=1;h[d]=c.config[d][0];p+=h[d]}else{m=0;h[d]=0}n[m]+=
i[1][d];u[m]+=i[0][d];j[d]=i[0][d]}}else{h[d]=-2;j[d]=-1}if(p==0){for(d=0;d<l;++d)if(h[d]==0){h[d]=1;++p}u[1]=u[0];n[1]=n[0];u[0]=0;n[0]=0}if(r>u[0]+n[1]){r-=u[0];if(r>u[1]){if(c.fitSize){r-=u[1];r=r/p;for(d=0;d<l;++d)if(h[d]>0){j[d]+=Math.round(h[d]*r);c.stretched[d]=true}}}else{m=1;if(r<n[m])r=n[m];r=u[m]-n[m]>0?(r-n[m])/(u[m]-n[m]):0;for(d=0;d<l;++d)if(h[d]>0){n=i[0][d]-i[1][d];j[d]=i[1][d]+Math.round(n*r)}}}else{for(d=0;d<l;++d)if(h[d]>0)j[d]=i[1][d];r-=n[1];m=0;if(r<n[m])r=n[m];r=u[m]-n[m]>0?
(r-n[m])/(u[m]-n[m]):0;for(d=0;d<l;++d)if(h[d]==0){n=i[0][d]-i[1][d];j[d]=i[1][d]+Math.round(n*r)}}}else j=i[1];c.sizes=j;i=c.margins[1];r=true;n=false;for(d=0;d<l;++d){if(j[d]>-1){var g=n;if(n){h=D+"-rs"+a+"-"+d;n=e.getElement(h);if(!n){n=document.createElement("div");n.setAttribute("id",h);n.di=d;n.style.position="absolute";n.style[f.left]=f.margins[1]+"px";n.style[c.size]=c.margins[0]+"px";if(f.cSize)n.style[f.size]=f.cSize-f.margins[2]-f.margins[1]+"px";n.className=c.handleClass;b.insertBefore(n,
b.firstChild);n.onmousedown=n.ontouchstart=function(T){ua(a,this,T||window.event)}}i+=2;v(n,c.left,i+"px");i+=2}n=c.config[d][1]!==0;if(r)r=false;else i+=c.margins[0]}for(u=0;u<t;++u)if((p=c.getItem(d,u))&&p.w){h=p.w;m=Math.max(j[d],0);if(p.span){var o,w=n;for(o=1;o<p.span[a];++o){if(d+o>=j.length)break;if(w)m+=4;w=c.config[d+o][1]!==0;if(j[d+o-1]>-1&&j[d+o]>-1)m+=c.margins[0];m+=j[d+o]}}var K;v(h,"visibility","");w=p.align>>c.alignBits&15;o=p.ps[a];if(m<o)w=0;if(w){switch(w){case 1:K=i;break;case 4:K=
i+(m-o)/2;break;case 2:K=i+(m-o);break}o-=p.margin[a];if(p.layout){v(h,c.size,o+"px")&&Y(p,1);p.set[a]=true}else if(m>=o&&p.set[a]){v(h,c.size,o+"px")&&Y(p,1);p.set[a]=false}p.size[a]=o;p.psize[a]=o}else{w=Math.max(0,m-p.margin[a]);K=a==0&&p.sc[a];if(!ka(h)&&(K||m!=o||p.layout)){if(v(h,c.size,w+"px")){if(!e.isIE&&(e.hasTag(h,"TEXTAREA")||e.hasTag(h,"INPUT"))){v(h,"margin-"+c.left,p.margin[a]/2+"px");v(h,"margin-"+f.left,p.margin[!a]/2+"px")}Y(p,1);p.set[a]=true}}else if(p.fs[a])a==0&&v(h,c.size,p.fs[a]+
"px");else{v(h,c.size,"")&&Y(p,1);if(p.set)p.set[a]=false}K=i;p.size[a]=w;p.psize[a]=m}if(X)if(g){v(h,c.left,"4px");m=e.css(h,"position");if(m!=="absolute")h.style.position="relative"}else v(h,c.left,"0px");else v(h,c.left,K+"px");if(a==1){if(h.wtResize)h.wtResize(h,p.set[0]?Math.round(p.size[0]):-1,p.set[1]?Math.round(p.size[1]):-1,true);p.dirty=0}}if(j[d]>-1)i+=j[d]}$(b).children("."+f.handleClass).css(c.size,k-c.margins[2]-c.margins[1]+"px")}}function ma(){var a=e.getElement(D);ja=M==null;J=O=
null;ra=na=true;U=[];oa=false;if(ja){var b=a;b=b.parentNode;for(U=[0,0];b!=document;){U[0]+=ba(b,0);U[1]+=ba(b,1);if(b.wtGetPS)oa=true;var c=jQuery.data(b.parentNode,"layout");if(c){J=b;O=c;break}b=b;b=b.parentNode;if(b.childNodes.length!=1&&!b.wtGetPS)na=false}a=a.parentNode;for(b=0;b<2;++b)s[b].sizeSet=e.pxself(a,s[b].size)!=0}else{O=jQuery.data(document.getElementById(M),"layout");J=a;U[0]=ba(J,0);U[1]=ba(J,1)}}var e=F.WT;this.descendants=[];var ia=this,B=A,P=true,da=true,ja,O,J,na,ra=false,U,
oa,ea=$(document.body).hasClass("Wt-rtl"),s=[{initialized:false,config:B.cols,margins:E,maxSize:aa,measures:[],sizes:[],stretched:[],fixedSize:[],Left:ea?"Right":"Left",left:ea?"right":"left",Right:ea?"Left":"Right",Size:"Width",size:"width",alignBits:0,getItem:function(a,b){return B.items[b*s[0].config.length+a]},setItem:function(a,b,c){B.items[b*s[0].config.length+a]=c},handleClass:"Wt-vrh2",resizeDir:"h",resizerClass:"Wt-hsh2",fitSize:V},{initialized:false,config:B.rows,margins:y,maxSize:q,measures:[],
sizes:[],stretched:[],fixedSize:[],Left:"Top",left:"top",Right:"Bottom",Size:"Height",size:"height",alignBits:4,getItem:function(a,b){return B.items[a*s[0].config.length+b]},setItem:function(a,b,c){B.items[a*s[0].config.length+b]=c},handleClass:"Wt-hrh2",resizeDir:"v",resizerClass:"Wt-vsh2",fitSize:W}];jQuery.data(document.getElementById(D),"layout",this);this.updateSizeInParent=function(a){if(O&&J.id){var b=e.$(J.id);if(b){if(J!=b)if(O=jQuery.data(b.parentNode,"layout"))J=b;else ma()}else ma()}if(O)if(na){var c=
s[a];b=c.measures[2];if(c.maxSize>0)b=Math.min(c.maxSize,b);if(oa){c=e.getElement(D);if(!c)return;for(var f=c,i=f.parentNode;;){if(i.wtGetPS)b=i.wtGetPS(i,f,a,b);b+=ba(i,a);if(i==J)break;if(a==1&&i==c.parentNode&&!i.lh&&i.offsetHeight>b)b=i.offsetHeight;f=i;i=f.parentNode}}else b+=U[a];O.setChildSize(J,a,b)}};this.setConfig=function(a){var b=B;B=a;s[0].config=B.cols;s[1].config=B.rows;s[0].stretched=[];s[1].stretched=[];var c;a=0;for(c=b.items.length;a<c;++a){var f=b.items[a];if(f){if(f.set){f.set[0]&&
v(f.w,s[0].size,"");f.set[1]&&v(f.w,s[1].size,"")}if(f.layout){ia.setChildSize(f.w,0,f.ps[0]);ia.setChildSize(f.w,1,f.ps[1])}}}P=da=true;F.layouts2.scheduleAdjust()};this.getId=function(){return D};this.setElDirty=function(a){var b,c;b=0;for(c=B.items.length;b<c;++b){var f=B.items[b];if(f&&f.id==a.id){f.dirty=2;P=true;F.layouts2.scheduleAdjust();return}}};this.setItemsDirty=function(a){var b,c,f=s[0].config.length;b=0;for(c=a.length;b<c;++b){var i=B.items[a[b][0]*f+a[b][1]];i.dirty=2;if(i.layout){i.layout=
false;i.wasLayout=true;F.layouts2.setChildLayoutsDirty(ia,i.w)}}P=true};this.setDirty=function(){da=true};this.setAllDirty=function(){var a,b;a=0;for(b=B.items.length;a<b;++a){var c=B.items[a];if(c)c.dirty=2}P=true};this.setChildSize=function(a,b,c){var f=s[0].config.length,i=s[b],k,j;k=0;for(j=B.items.length;k<j;++k){var t=B.items[k];if(t&&t.id==a.id){a=b===0?k%f:k/f;if(t.align>>i.alignBits&15||!i.stretched[a]){if(!t.ps)t.ps=[];t.ps[b]=c}t.layout=true;Y(t,1);break}}};this.measure=function(a){var b=
e.getElement(D);if(b)if(!e.isHidden(b)){ra||ma();if(P||da)sa(a,b,ja?b.parentNode:null);if(a==1)P=da=false}};this.setMaxSize=function(a,b){s[0].maxSize=a;s[1].maxSize=b};this.apply=function(a){var b=e.getElement(D);if(!b)return false;if(e.isHidden(b))return true;va(a,b);return true};this.contains=function(a){var b=e.getElement(D);a=e.getElement(a.getId());return b&&a?e.contains(b,a):false};this.WT=e});
WT_DECLARE_APP_MEMBER(1,JavaScriptObject,"layouts2",new (function(){var F=[],D=false,M=this,V=false;this.find=function(q){return(q=document.getElementById(q))?jQuery.data(q,"layout"):null};this.setDirty=function(q){if(q=this.find(q)){q.setDirty();M.scheduleAdjust()}};this.setElementDirty=function(q){var E=q;for(q=q.parentNode;q&&q!=document.body;){var y=jQuery.data(q,"layout");y&&y.setElDirty(E);E=q;q=q.parentNode}};this.setChildLayoutsDirty=function(q,E){var y,A;y=0;for(A=q.descendants.length;y<
A;++y){var z=q.descendants[y];if(E){var C=q.WT.getElement(z.getId());if(C&&!q.WT.contains(E,C))continue}z.setDirty()}};this.add=function(q){function E(y,A){var z,C;z=0;for(C=y.length;z<C;++z){var x=y[z];if(x.getId()==A.getId()){y[z]=A;A.descendants=x.descendants;return}else if(x.contains(A)){E(x.descendants,A);return}else if(A.contains(x)){A.descendants.push(x);y.splice(z,1);--z;--C}}y.push(A)}E(F,q);M.scheduleAdjust()};var W=false,X=0;this.scheduleAdjust=function(q){if(q)V=true;if(!W){if(D)++X;else X=
0;if(!(X>=6)){W=true;setTimeout(function(){M.adjust()},0)}}};this.adjust=function(q,E){function y(z,C){var x,N;x=0;for(N=z.length;x<N;++x){var G=z[x];y(G.descendants,C);if(C==1&&V)G.setDirty();else C==0&&G.setAllDirty();G.measure(C)}}function A(z,C){var x,N;x=0;for(N=z.length;x<N;++x){var G=z[x];if(G.apply(C))A(G.descendants,C);else{z.splice(x,1);--x;--N}}}if(q){(q=this.find(q))&&q.setItemsDirty(E);M.scheduleAdjust()}else{W=false;if(!D){D=true;y(F,0);A(F,0);y(F,1);A(F,1);V=D=false}}};this.updateConfig=
function(q,E){(q=this.find(q))&&q.setConfig(E)};this.adjustNow=function(){W&&M.adjust()};var aa=null;window.onresize=function(){clearTimeout(aa);aa=setTimeout(function(){aa=null;M.scheduleAdjust(true)},20)};window.onshow=function(){V=true;M.adjust()}}));
