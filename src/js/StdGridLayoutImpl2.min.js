WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"StdLayout2",function(F,D,L,T,U,V,Y,q,E,y,A){function z(a,b,c,g){function i(h){return h=="visible"||h=="none"}var l=s[b],k=b?a.scrollHeight:a.scrollWidth,t,d;if(b==0){var j=e.pxself(a,l.left);if(k+j>g.clientWidth||k+j==g.clientWidth&&e.isGecko&&g.parentNode.parentNode.style.visibility==="hidden"){t=a.style[l.left];v(a,l.left,"-1000000px");k=b?a.scrollHeight:a.scrollWidth}}g=b?a.clientHeight:a.clientWidth;if(e.isGecko&&!a.style[l.size]&&b==0&&i(e.css(a,
"overflow"))){d=a.style[l.size];v(a,l.size,"")}j=b?a.offsetHeight:a.offsetWidth;t&&v(a,l.left,t);d&&v(a,l.size,d);if(g>=1E6)g-=1E6;if(k>=1E6)k-=1E6;if(j>=1E6)j-=1E6;if(k===0){k=e.pxself(a,l.size);if(k!==0&&!e.isOpera&&!e.isGecko)k-=e.px(a,"border"+l.Left+"Width")+e.px(a,"border"+l.Right+"Width")}if(e.isIE&&(e.hasTag(a,"BUTTON")||e.hasTag(a,"TEXTAREA")||e.hasTag(a,"INPUT")||e.hasTag(a,"SELECT")))k=g;if(k>j)if(e.pxself(a,l.size)==0)k=g;else{var m=false;$(a).find(".Wt-popup").each(function(){if(this.style.display!==
"none")m=true});if(m)k=g}d=e.px(a,"border"+l.Left+"Width")+e.px(a,"border"+l.Right+"Width");t=j-(g+d)!=0;if(c)return[k,scrollBar];if(e.isGecko&&b==0&&a.getBoundingClientRect().width!=Math.ceil(a.getBoundingClientRect().width))k+=1;if(!e.boxSizing(a)&&!e.isOpera)k+=d;k+=e.px(a,"margin"+l.Left)+e.px(a,"margin"+l.Right);if(!e.boxSizing(a)&&!e.isIE)k+=e.px(a,"padding"+l.Left)+e.px(a,"padding"+l.Right);k+=j-(g+d);if(k<j)k=j;a=e.px(a,"max"+l.Size);if(a>0)k=Math.min(a,k);return[Math.round(k),t]}function C(a,
b){b=s[b];if(a.style.display==="none")return 0;else if(a["layoutMin"+b.Size])return a["layoutMin"+b.Size];else{var c=e.px(a,"min"+b.Size);e.boxSizing(a)||(c+=e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right));return c}}function x(a,b){b=s[b];var c=e.px(a,"margin"+b.Left)+e.px(a,"margin"+b.Right);if(!e.boxSizing(a)&&!(e.isIE&&!e.isIElt9&&e.hasTag(a,"BUTTON")))c+=e.px(a,"border"+b.Left+"Width")+e.px(a,"border"+b.Right+"Width")+e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right);return c}function M(a,
b){b=s[b];return e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right)}function G(a,b){if(e.boxSizing(a)){b=s[b];return e.px(a,"border"+b.Left+"Width")+e.px(a,"border"+b.Right+"Width")+e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right)}else return 0}function Z(a,b){b=s[b];return Math.round(e.px(a,"border"+b.Left+"Width")+e.px(a,"border"+b.Right+"Width")+e.px(a,"margin"+b.Left)+e.px(a,"margin"+b.Right)+e.px(a,"padding"+b.Left)+e.px(a,"padding"+b.Right))}function W(a,b,c){a.dirty=Math.max(a.dirty,b);O=
true;c&&F.layouts2.scheduleAdjust()}function v(a,b,c){if(a.style[b]!==c){a.style[b]=c;return true}else return false}function ia(a){return a.style.display==="none"&&!a.ed||$(a).hasClass("Wt-hidden")}function qa(a,b,c){var g=s[a],i=g.config.length,l=s[a^1].config.length,k=g.measures.slice();if(k.length==5){k[0]=k[0].slice();k[1]=k[1].slice()}if(O){if(c&&typeof g.minSize=="undefined"){g.minSize=e.px(c,"min"+g.Size);if(g.minSize>0)g.minSize-=G(c,a)}var t=[],d=[],j=0,m=0,h,H,r=false;for(h=0;h<i;++h){var p=
0,u=g.config[h][2],o=true;for(H=0;H<l;++H){var f=g.getItem(h,H);if(f){if(!f.w||a==0&&f.dirty>1){var n=$("#"+f.id),w=n.get(0);if(!w){g.setItem(h,H,null);continue}if(w!=f.w){f.w=w;n.find("img").add(n.filter("img")).bind("load",{item:f},function(Q){W(Q.data.item,1,true)})}}if(!V&&f.w.style.position!="absolute"){f.w.style.position="absolute";f.w.style.visibility="hidden"}if(!f.ps)f.ps=[];if(!f.sc)f.sc=[];if(!f.ms)f.ms=[];if(!f.size)f.size=[];if(!f.psize)f.psize=[];if(!f.fs)f.fs=[];if(!f.margin)f.margin=
[];if(ia(f.w))f.ps[a]=f.ms[a]=0;else{n=!f.set;if(!f.set)f.set=[false,false];if(f.w){if(e.isIE)f.w.style.visibility="";if(f.dirty){if(f.dirty>1){w=C(f.w,a);f.ms[a]=w}else w=f.ms[a];if(w>u)u=w;if(f.dirty>1)f.margin[a]=x(f.w,a);if(!f.set[a])if(a==0||!n){n=e.pxself(f.w,g.size);f.fs[a]=n?n+f.margin[a]:0}else{n=Math.round(e.px(f.w,g.size));f.fs[a]=n>Math.max(G(f.w,a),w)?n+f.margin[a]:0}n=f.fs[a];if(f.layout){if(n==0)n=f.ps[a];f.ps[a]=n}else{if(f.wasLayout){f.wasLayout=false;f.set=[false,false];f.ps=[];
f.w.wtResize&&f.w.wtResize(f.w,-1,-1,true);v(f.w,s[1].size,"")}w=z(f.w,a,false,b);var K=w[0],R=f.set[a];if(R)if(f.psize[a]>8)R=K>=f.psize[a]-4&&K<=f.psize[a]+4;var ja=typeof f.ps[a]!=="undefined"&&g.config[h][0]>0&&f.set[a];n=R||ja?Math.max(n,f.ps[a]):Math.max(n,K);f.ps[a]=n;f.sc[a]=w[1]}if(!f.span||f.span[a]==1){if(n>p)p=n}else r=true}else if(!f.span||f.span[a]==1){if(f.ps[a]>p)p=f.ps[a];if(f.ms[a]>u)u=f.ms[a]}else r=true;if(!ia(f.w)&&(!f.span||f.span[a]==1))o=false}}}}if(o)u=p=-1;else if(u>p)p=
u;t[h]=p;d[h]=u;if(u>-1){j+=p;m+=u}}if(r){function na(Q,da){for(h=0;h<i;++h)for(H=0;H<l;++H){var X=g.getItem(h,H);if(X&&X.span&&X.span[a]>1){var aa=Q(X),ea=0,fa=0,I;for(I=0;I<X.span[a];++I){var P=da[h+I];if(P!=-1){aa-=P;++ea;if(g.config[h+I][0]>0)fa+=g.config[h+I][0]}}if(aa>=0)if(ea>0){if(fa>0)ea=fa;for(I=0;I<X.span[a];++I){P=da[h+I];if(P!=-1){P=fa>0?g.config[h+I][0]:1;if(P>0){var oa=Math.round(aa/P);aa-=oa;ea-=P;da[h+I]+=oa}}}}else da[h]=aa}}}na(function(Q){return Q.ps[a]},t);na(function(Q){return Q.ms[a]},
d)}b=0;n=true;r=false;for(h=0;h<i;++h)if(d[h]>-1){if(n){b+=g.margins[1];n=false}else{b+=g.margins[0];if(r)b+=4}r=g.config[h][1]!==0}n||(b+=g.margins[2]);j+=b;m+=b;g.measures=[t,d,j,m,b]}if(ba||k[2]!=g.measures[2])ga.updateSizeInParent(a);c&&g.minSize==0&&k[3]!=g.measures[3]&&c.parentNode.className!="Wt-domRoot"&&v(c,"min"+g.Size,g.measures[3]+"px");c&&a==0&&c&&e.hasTag(c,"TD")&&v(c,g.size,g.measures[2]+"px")}function ra(a,b,c){a=s[a];if(ca)c=-c;if(a.config[b][0]>0&&a.config[b+1][0]==0){++b;c=-c}a.fixedSize[b]=
a.sizes[b]+c;F.layouts2.scheduleAdjust()}function sa(a,b,c){var g=b.di,i=s[a],l=s[a^1],k,t=e.getElement(D),d;for(d=g-1;d>=0;--d)if(i.sizes[d]>=0){k=-(i.sizes[d]-i.measures[1][d]);break}g=i.sizes[g]-i.measures[1][g];if(ca){var j=k;k=-g;g=-j}new e.SizeHandle(e,i.resizeDir,e.pxself(b,i.size),e.pxself(b,l.size),k,g,i.resizerClass,function(m){ra(a,d,m)},b,t,c,0,0)}function ta(a,b){return b==0?a[b][1]!==0:a[b-1][1]!==0||a[b][1]!==0}function ua(a,b){var c=s[a],g=s[a^1],i=c.measures,l=0,k=false,t=false,d=
false,j=ha?b.parentNode:null;if(c.maxSize===0)if(j){var m=e.css(j,"position");if(m==="absolute")l=e.pxself(j,c.size);if(l===0){if(!c.initialized){if(a===0&&(m==="absolute"||m==="fixed")){j.style.display="none";l=j.clientWidth;j.style.display=""}l=a?j.clientHeight:j.clientWidth;k=true;if(a==0&&l==0&&e.isIElt9){l=j.offsetWidth;k=false}var h;if((e.hasTag(j,"TD")||e.hasTag(j,"TH"))&&!(e.isIE&&!e.isIElt9)){d=0;h=1}else{d=c.minSize?c.minSize:i[3];h=0}function H(R,ja){return R-ja<=1}if(e.isIElt9&&H(l,h)||
H(l,d+M(j,a)))c.maxSize=999999}if(l===0&&c.maxSize===0){l=a?j.clientHeight:j.clientWidth;k=true}}}else{l=e.pxself(b,c.size);t=true}else if(c.sizeSet){l=e.pxself(j,c.size);t=true}var r=0;if(j&&j.wtGetPS&&a==1)r=j.wtGetPS(j,b,a,0);d=i[2];if(d<c.minSize)d=c.minSize;if(c.maxSize&&!c.sizeSet){l=Math.min(d,c.maxSize)+r;v(j,c.size,l+G(j,a)+"px")&&N&&N.setElDirty(J);l=l;d=t=true}c.cSize=l;if(a==1&&j&&j.wtResize){h=g.cSize;d=c.cSize;j.wtResize(j,Math.round(h),Math.round(d),true)}l-=r;if(!t){t=0;if(typeof c.cPadding===
"undefined"){t=k?M(j,a):G(j,a);c.cPadding=t}else t=c.cPadding;l-=t}c.initialized=true;if(!(j&&l<=0)){if(l<i[3]-r)l=i[3]-r;j=[];k=c.config.length;t=g.config.length;for(d=0;d<k;++d)c.stretched[d]=false;if(l>=i[3]-r){r=l-i[4];h=[];var p=[0,0],u=[0,0],o=0;for(d=0;d<k;++d)if(i[1][d]>-1){m=-1;if(typeof c.fixedSize[d]!=="undefined"&&!ta(c.config,d))c.fixedSize[d]=undefined;if(typeof c.fixedSize[d]!=="undefined"&&(d+1==k||i[1][d+1]>-1))m=c.fixedSize[d];else if(c.config[d][1]!==0&&c.config[d][1][0]>=0){m=
c.config[d][1][0];if(c.config[d][1][1])m=(l-i[4])*m/100}if(m>=0){h[d]=-1;j[d]=m;r-=j[d]}else{if(c.config[d][0]>0){m=1;h[d]=c.config[d][0];o+=h[d]}else{m=0;h[d]=0}p[m]+=i[1][d];u[m]+=i[0][d];j[d]=i[0][d]}}else{h[d]=-2;j[d]=-1}if(c.fixedSize.length>k)c.fixedSize.length=k;if(o==0){for(d=0;d<k;++d)if(h[d]==0){h[d]=1;++o}u[1]=u[0];p[1]=p[0];u[0]=0;p[0]=0}if(r>u[0]+p[1]){r-=u[0];if(r>u[1]){if(c.fitSize){r-=u[1];r=r/o;for(d=0;d<k;++d)if(h[d]>0){j[d]+=Math.round(h[d]*r);c.stretched[d]=true}}}else{m=1;if(r<
p[m])r=p[m];r=u[m]-p[m]>0?(r-p[m])/(u[m]-p[m]):0;for(d=0;d<k;++d)if(h[d]>0){p=i[0][d]-i[1][d];j[d]=i[1][d]+Math.round(p*r)}}}else{for(d=0;d<k;++d)if(h[d]>0)j[d]=i[1][d];r-=p[1];m=0;if(r<p[m])r=p[m];r=u[m]-p[m]>0?(r-p[m])/(u[m]-p[m]):0;for(d=0;d<k;++d)if(h[d]==0){p=i[0][d]-i[1][d];j[d]=i[1][d]+Math.round(p*r)}}}else j=i[1];c.sizes=j;i=c.margins[1];r=true;p=false;for(d=0;d<k;++d){if(j[d]>-1){var f=p;if(p){p=D+"-rs"+a+"-"+d;h=e.getElement(p);if(!h){c.resizeHandles[d]=p;h=document.createElement("div");
h.setAttribute("id",p);h.di=d;h.style.position="absolute";h.style[g.left]=g.margins[1]+"px";h.style[c.size]=c.margins[0]+"px";if(g.cSize)h.style[g.size]=g.cSize-g.margins[2]-g.margins[1]+"px";h.className=c.handleClass;b.insertBefore(h,b.firstChild);h.onmousedown=h.ontouchstart=function(R){sa(a,this,R||window.event)}}i+=2;v(h,c.left,i+"px");i+=2}else if(c.resizeHandles[d]){h=e.getElement(c.resizeHandles[d]);h.parentNode.removeChild(h);c.resizeHandles[d]=undefined}p=c.config[d][1]!==0;if(r)r=false;
else i+=c.margins[0]}for(u=0;u<t;++u)if((o=c.getItem(d,u))&&o.w){h=o.w;m=Math.max(j[d],0);if(o.span){var n,w=p;for(n=1;n<o.span[a];++n){if(d+n>=j.length)break;if(w)m+=4;w=c.config[d+n][1]!==0;if(j[d+n-1]>-1&&j[d+n]>-1)m+=c.margins[0];m+=j[d+n]}}var K;v(h,"visibility","");w=o.align>>c.alignBits&15;n=o.ps[a];if(m<n)w=0;if(w){switch(w){case 1:K=i;break;case 4:K=i+(m-n)/2;break;case 2:K=i+(m-n);break}n-=o.margin[a];if(o.layout){v(h,c.size,n+"px")&&W(o,1);o.set[a]=true}else if(m>=n&&o.set[a]){v(h,c.size,
n+"px")&&W(o,1);o.set[a]=false}o.size[a]=n;o.psize[a]=n}else{w=Math.max(0,m-o.margin[a]);K=a==0&&o.sc[a];if(!ia(h)&&(K||m!=n||o.layout)){if(v(h,c.size,w+"px")){if(!e.isIE&&(e.hasTag(h,"TEXTAREA")||e.hasTag(h,"INPUT"))){v(h,"margin-"+c.left,o.margin[a]/2+"px");v(h,"margin-"+g.left,o.margin[!a]/2+"px")}W(o,1);o.set[a]=true}}else if(o.fs[a])a==0&&v(h,c.size,o.fs[a]+"px");else{v(h,c.size,"")&&W(o,1);if(o.set)o.set[a]=false}K=i;o.size[a]=w;o.psize[a]=m}if(V)if(f){v(h,c.left,"4px");m=e.css(h,"position");
if(m!=="absolute")h.style.position="relative"}else v(h,c.left,"0px");else v(h,c.left,K+"px");if(a==1){if(h.wtResize)h.wtResize(h,o.set[0]?Math.round(o.size[0]):-1,o.set[1]?Math.round(o.size[1]):-1,true);o.dirty=0}}if(j[d]>-1)i+=j[d]}if(c.resizeHandles.length>k){for(f=k;f<c.resizeHandles.length;f++)if(c.resizeHandles[f]){h=e.getElement(c.resizeHandles[f]);h.parentNode.removeChild(h)}c.resizeHandles.length=k}$(b).children("."+g.handleClass).css(c.size,l-c.margins[2]-c.margins[1]+"px")}}function ka(){var a=
e.getElement(D);ha=L==null;J=N=null;pa=la=true;S=[];ma=false;if(ha){var b=a;b=b.parentNode;for(S=[0,0];b!=document;){S[0]+=Z(b,0);S[1]+=Z(b,1);if(b.wtGetPS)ma=true;var c=jQuery.data(b.parentNode,"layout");if(c){J=b;N=c;break}b=b;b=b.parentNode;if(b.childNodes.length!=1&&!b.wtGetPS)la=false}a=a.parentNode;for(b=0;b<2;++b)s[b].sizeSet=e.pxself(a,s[b].size)!=0}else{N=jQuery.data(document.getElementById(L),"layout");J=a;S[0]=Z(J,0);S[1]=Z(J,1)}}var e=F.WT;this.descendants=[];var ga=this,B=A,O=true,ba=
true,ha,N,J,la,pa=false,S,ma,ca=$(document.body).hasClass("Wt-rtl"),s=[{initialized:false,config:B.cols,margins:E,maxSize:Y,measures:[],sizes:[],stretched:[],fixedSize:[],Left:ca?"Right":"Left",left:ca?"right":"left",Right:ca?"Left":"Right",Size:"Width",size:"width",alignBits:0,getItem:function(a,b){return B.items[b*s[0].config.length+a]},setItem:function(a,b,c){B.items[b*s[0].config.length+a]=c},handleClass:"Wt-vrh2",resizeDir:"h",resizerClass:"Wt-hsh2",fitSize:T,resizeHandles:[]},{initialized:false,
config:B.rows,margins:y,maxSize:q,measures:[],sizes:[],stretched:[],fixedSize:[],Left:"Top",left:"top",Right:"Bottom",Size:"Height",size:"height",alignBits:4,getItem:function(a,b){return B.items[a*s[0].config.length+b]},setItem:function(a,b,c){B.items[a*s[0].config.length+b]=c},handleClass:"Wt-hrh2",resizeDir:"v",resizerClass:"Wt-vsh2",fitSize:U,resizeHandles:[]}];jQuery.data(document.getElementById(D),"layout",this);this.updateSizeInParent=function(a){if(N&&J.id){var b=e.$(J.id);if(b){if(J!=b)if(N=
jQuery.data(b.parentNode,"layout"))J=b;else ka()}else ka()}if(N)if(la){var c=s[a];b=c.measures[2];if(c.maxSize>0)b=Math.min(c.maxSize,b);if(ma){c=e.getElement(D);if(!c)return;for(var g=c,i=g.parentNode;;){if(i.wtGetPS)b=i.wtGetPS(i,g,a,b);b+=Z(i,a);if(i==J)break;if(a==1&&i==c.parentNode&&!i.lh&&i.offsetHeight>b)b=i.offsetHeight;g=i;i=g.parentNode}}else b+=S[a];N.setChildSize(J,a,b)}};this.setConfig=function(a){var b=B;B=a;s[0].config=B.cols;s[1].config=B.rows;s[0].stretched=[];s[1].stretched=[];var c;
a=0;for(c=b.items.length;a<c;++a){var g=b.items[a];if(g){if(g.set){g.set[0]&&v(g.w,s[0].size,"");g.set[1]&&v(g.w,s[1].size,"")}if(g.layout){ga.setChildSize(g.w,0,g.ps[0]);ga.setChildSize(g.w,1,g.ps[1])}}}O=ba=true;F.layouts2.scheduleAdjust()};this.getId=function(){return D};this.setElDirty=function(a){var b,c;b=0;for(c=B.items.length;b<c;++b){var g=B.items[b];if(g&&g.id==a.id){g.dirty=2;O=true;F.layouts2.scheduleAdjust();return}}};this.setItemsDirty=function(a){var b,c,g=s[0].config.length;b=0;for(c=
a.length;b<c;++b){var i=B.items[a[b][0]*g+a[b][1]];i.dirty=2;if(i.layout){i.layout=false;i.wasLayout=true;F.layouts2.setChildLayoutsDirty(ga,i.w)}}O=true};this.setDirty=function(){ba=true};this.setAllDirty=function(){var a,b;a=0;for(b=B.items.length;a<b;++a){var c=B.items[a];if(c)c.dirty=2}O=true};this.setChildSize=function(a,b,c){var g=s[0].config.length,i=s[b],l,k;l=0;for(k=B.items.length;l<k;++l){var t=B.items[l];if(t&&t.id==a.id){a=b===0?l%g:l/g;if(t.align>>i.alignBits&15||!i.stretched[a]){if(!t.ps)t.ps=
[];t.ps[b]=c}t.layout=true;W(t,1);break}}};this.measure=function(a){var b=e.getElement(D);if(b)if(!e.isHidden(b)){pa||ka();if(O||ba)qa(a,b,ha?b.parentNode:null);if(a==1)O=ba=false}};this.setMaxSize=function(a,b){s[0].maxSize=a;s[1].maxSize=b};this.apply=function(a){var b=e.getElement(D);if(!b)return false;if(e.isHidden(b))return true;ua(a,b);return true};this.contains=function(a){var b=e.getElement(D);a=e.getElement(a.getId());return b&&a?e.contains(b,a):false};this.WT=e});
WT_DECLARE_APP_MEMBER(1,JavaScriptObject,"layouts2",new (function(){var F=[],D=false,L=this,T=false;this.find=function(q){return(q=document.getElementById(q))?jQuery.data(q,"layout"):null};this.setDirty=function(q){if(q=this.find(q)){q.setDirty();L.scheduleAdjust()}};this.setElementDirty=function(q){var E=q;for(q=q.parentNode;q&&q!=document.body;){var y=jQuery.data(q,"layout");y&&y.setElDirty(E);E=q;q=q.parentNode}};this.setChildLayoutsDirty=function(q,E){var y,A;y=0;for(A=q.descendants.length;y<
A;++y){var z=q.descendants[y];if(E){var C=q.WT.getElement(z.getId());if(C&&!q.WT.contains(E,C))continue}z.setDirty()}};this.add=function(q){function E(y,A){var z,C;z=0;for(C=y.length;z<C;++z){var x=y[z];if(x.getId()==A.getId()){y[z]=A;A.descendants=x.descendants;return}else if(x.contains(A)){E(x.descendants,A);return}else if(A.contains(x)){A.descendants.push(x);y.splice(z,1);--z;--C}}y.push(A)}E(F,q);L.scheduleAdjust()};var U=false,V=0;this.scheduleAdjust=function(q){if(q)T=true;if(!U){if(D)++V;else V=
0;if(!(V>=6)){U=true;setTimeout(function(){L.adjust()},0)}}};this.adjust=function(q,E){function y(z,C){var x,M;x=0;for(M=z.length;x<M;++x){var G=z[x];y(G.descendants,C);if(C==1&&T)G.setDirty();else C==0&&G.setAllDirty();G.measure(C)}}function A(z,C){var x,M;x=0;for(M=z.length;x<M;++x){var G=z[x];if(G.apply(C))A(G.descendants,C);else{z.splice(x,1);--x;--M}}}if(q){(q=this.find(q))&&q.setItemsDirty(E);L.scheduleAdjust()}else{U=false;if(!D){D=true;y(F,0);A(F,0);y(F,1);A(F,1);T=D=false}}};this.updateConfig=
function(q,E){(q=this.find(q))&&q.setConfig(E)};this.adjustNow=function(){U&&L.adjust()};var Y=null;window.onresize=function(){clearTimeout(Y);Y=setTimeout(function(){Y=null;L.scheduleAdjust(true)},20)};window.onshow=function(){T=true;L.adjust()}}));
