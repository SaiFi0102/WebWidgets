WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"StdLayout2",function(G,H,I,O,P,Q,s,F,x,z,y){function B(a,c,b,e){function i(m){return m=="visible"||m=="none"}var j=u[c],k=c?a.scrollHeight:a.scrollWidth,t,d;if(c==0&&k+g.pxself(a,j.left)>=e.clientWidth){t=a.style[j.left];v(a,j.left,"-1000000px");k=c?a.scrollHeight:a.scrollWidth}e=c?a.clientHeight:a.clientWidth;if(g.isGecko&&!a.style[j.size]&&c==0&&i(g.css(a,"overflow"))){d=a.style[j.size];v(a,j.size,"")}c=c?a.offsetHeight:a.offsetWidth;t&&v(a,j.left,t);
d&&v(a,j.size,d);if(e>=1E6)e-=1E6;if(k>=1E6)k-=1E6;if(c>=1E6)c-=1E6;if(k===0){k=g.pxself(a,j.size);if(k!==0&&!g.isOpera&&!g.isGecko)k-=g.px(a,"border"+j.Left+"Width")+g.px(a,"border"+j.Right+"Width")}if(g.isIE&&(g.hasTag(a,"BUTTON")||g.hasTag(a,"TEXTAREA")||g.hasTag(a,"INPUT")||g.hasTag(a,"SELECT")))k=e;if(k>c)if(g.pxself(a,j.size)==0)k=e;else{var o=false;$(a).find(".Wt-popup").each(function(){if(this.style.display!=="none")o=true});if(o)k=e}d=g.px(a,"border"+j.Left+"Width")+g.px(a,"border"+j.Right+
"Width");t=c-(e+d)!=0;if(b)return[k,scrollBar];g.isOpera||(k+=d);k+=g.px(a,"margin"+j.Left)+g.px(a,"margin"+j.Right);if(!g.boxSizing(a)&&!g.isIE)k+=g.px(a,"padding"+j.Left)+g.px(a,"padding"+j.Right);k+=c-(e+d);if(k<c)k=c;a=g.px(a,"max"+j.Size);if(a>0)k=Math.min(a,k);return[Math.round(k),t]}function w(a,c){c=u[c];if(a.style.display==="none")return 0;else if(a["layoutMin"+c.Size])return a["layoutMin"+c.Size];else{var b=g.px(a,"min"+c.Size);g.boxSizing(a)||(b+=g.px(a,"padding"+c.Left)+g.px(a,"padding"+
c.Right));return b}}function K(a,c){c=u[c];var b=g.px(a,"margin"+c.Left)+g.px(a,"margin"+c.Right);if(!g.boxSizing(a)&&!(g.isIE&&!g.isIElt9&&g.hasTag(a,"BUTTON")))b+=g.px(a,"border"+c.Left+"Width")+g.px(a,"border"+c.Right+"Width")+g.px(a,"padding"+c.Left)+g.px(a,"padding"+c.Right);return b}function J(a,c){c=u[c];return g.px(a,"padding"+c.Left)+g.px(a,"padding"+c.Right)}function Z(a,c){if(g.boxSizing(a)){c=u[c];return g.px(a,"border"+c.Left+"Width")+g.px(a,"border"+c.Right+"Width")+g.px(a,"padding"+
c.Left)+g.px(a,"padding"+c.Right)}else return 0}function V(a,c){c=u[c];return Math.round(g.px(a,"border"+c.Left+"Width")+g.px(a,"border"+c.Right+"Width")+g.px(a,"margin"+c.Left)+g.px(a,"margin"+c.Right)+g.px(a,"padding"+c.Left)+g.px(a,"padding"+c.Right))}function R(a,c,b){a.dirty=Math.max(a.dirty,c);L=true;b&&G.layouts2.scheduleAdjust()}function v(a,c,b){if(a.style[c]!==b){a.style[c]=b;return true}else return false}function ea(a,c,b){var e=u[a],i=e.config.length,j=u[a^1].config.length,k=e.measures.slice();
if(k.length==5){k[0]=k[0].slice();k[1]=k[1].slice()}if(L){if(b&&typeof e.minSize=="undefined"){e.minSize=g.px(b,"min"+e.Size);if(e.minSize>0)e.minSize-=Z(b,a)}var t=[],d=[],o=0,m=0,h,E,r=false;for(h=0;h<i;++h){var l=0,q=e.config[h][2],n=true;for(E=0;E<j;++E){var f=e.getItem(h,E);if(f){if(!f.w||a==0&&f.dirty>1){var p=$("#"+f.id),C=p.get(0);if(!C){e.setItem(h,E,null);continue}if(C!=f.w){f.w=C;p.find("img").add(p.filter("img")).bind("load",{item:f},function(fa){R(fa.data.item,1,true)})}}if(!Q&&f.w.style.position!=
"absolute"){f.w.style.position="absolute";f.w.style.visibility="hidden"}if(!f.ps)f.ps=[];if(!f.sc)f.sc=[];if(!f.ms)f.ms=[];if(!f.size)f.size=[];if(!f.psize)f.psize=[];if(!f.fs)f.fs=[];if(!f.margin)f.margin=[];if($(f.w).hasClass("Wt-hidden"))f.ps[a]=f.ms[a]=0;else{p=!f.set;if(!f.set)f.set=[false,false];if(f.w){if(g.isIE)f.w.style.visibility="";if(f.dirty){var D;if(f.dirty>1){w(f.w,a);f.ms[a]=D}else D=f.ms[a];if(D>q)q=D;if(f.dirty>1)f.margin[a]=K(f.w,a);if(!f.set[a])if(a==0||!p){p=g.pxself(f.w,e.size);
f.fs[a]=p?p+f.margin[a]:0}else{p=Math.round(g.px(f.w,e.size));f.fs[a]=p>Math.max(Z(f.w,a),D)?p+f.margin[a]:0}p=f.fs[a];if(f.layout){if(p==0)p=f.ps[a];f.ps[a]=p}else{if(f.wasLayout){f.wasLayout=false;f.set=[false,false];f.ps=[];f.w.wtResize&&f.w.wtResize(f.w,-1,-1,true);v(f.w,u[1].size,"")}C=B(f.w,a,false,c);var M=C[0],W=f.set[a];if(W)if(f.psize[a]>8)W=M>=f.psize[a]-4&&M<=f.psize[a]+4;var ga=typeof f.ps[a]!=="undefined"&&e.config[h][0]>0&&f.set[a];p=W||ga?Math.max(p,f.ps[a]):Math.max(p,M);f.ps[a]=
p;f.sc[a]=C[1]}if(!f.span||f.span[a]==1){if(p>l)l=p}else r=true}else if(!f.span||f.span[a]==1){if(f.ps[a]>l)l=f.ps[a];if(f.ms[a]>q)q=f.ms[a]}else r=true;if(!(f.w.style.display==="none"&&!f.w.ed)&&(!f.span||f.span[a]==1))n=false}}}}if(n)q=l=-1;else if(q>l)l=q;t[h]=l;d[h]=q;if(q>-1){o+=l;m+=q}}if(r)for(h=0;h<i;++h)for(E=0;E<j;++E)if((f=e.getItem(h,E))&&f.span&&f.span[a]>1){c=f.ps[a];for(q=l=r=0;q<f.span[a];++q){n=t[h+q];if(n!=-1){c-=n;++r;if(e.config[h+q][0]>0)l+=e.config[h+q][0]}}if(c>0)if(r>0){if(l>
0)r=l;for(q=0;q<f.span[a];++q){n=t[h+q];if(n!=-1){n=l>0?e.config[h+q][0]:1;if(n>0){D=Math.round(c/n);c-=D;r-=n;t[h+q]+=D}}}}else t[h]=c}j=0;p=true;E=false;for(h=0;h<i;++h)if(d[h]>-1){if(p){j+=e.margins[1];p=false}else{j+=e.margins[0];if(E)j+=4}E=e.config[h][1]!==0}p||(j+=e.margins[2]);o+=j;m+=j;e.measures=[t,d,o,m,j]}if(X||k[2]!=e.measures[2])S.updateSizeInParent(a);b&&e.minSize==0&&k[3]!=e.measures[3]&&b.parentNode.className!="Wt-domRoot"&&v(b,"min"+e.Size,e.measures[3]+"px")&&S.ancestor&&S.ancestor.setContentsDirty(b);
b&&a==0&&b&&g.hasTag(b,"TD")&&v(b,e.size,e.measures[2]+"px")}function ha(a,c,b){a=u[a];if(Y)b=-b;if(a.config[c][0]>0&&a.config[c+1][0]==0){++c;b=-b}a.fixedSize[c]=a.sizes[c]+b;G.layouts2.scheduleAdjust()}function ia(a,c,b){var e=c.di,i=u[a],j=u[a^1],k,t=g.getElement(H),d;for(d=e-1;d>=0;--d)if(i.sizes[d]>=0){k=-(i.sizes[d]-i.measures[1][d]);break}e=i.sizes[e]-i.measures[1][e];if(Y){var o=k;k=-e;e=-o}new g.SizeHandle(g,i.resizeDir,g.pxself(c,i.size),g.pxself(c,j.size),k,e,i.resizerClass,function(m){ha(a,
d,m)},c,t,b,0,0)}function ja(a,c){var b=u[a],e=u[a^1],i=b.measures,j=0,k=false,t=false,d=false,o=aa?c.parentNode:null;if(b.maxSize===0)if(o){var m=g.css(o,"position");if(m==="absolute")j=g.pxself(o,b.size);if(j===0){if(!b.initialized){if(a===0&&(m==="absolute"||m==="fixed")){o.style.display="none";j=o.clientWidth;o.style.display=""}j=a?o.clientHeight:o.clientWidth;k=true;if(a==0&&j==0&&g.isIElt9){j=o.offsetWidth;k=false}var h;if((g.hasTag(o,"TD")||g.hasTag(o,"TH"))&&!(g.isIE&&!g.isIElt9)){d=0;h=1}else{d=
b.minSize?b.minSize:i[3];h=0}function E(M,W){return Math.abs(M-W)<1}if(g.isIElt9&&E(j,h)||E(j,d+J(o,a)))b.maxSize=999999}if(j===0&&b.maxSize===0){j=a?o.clientHeight:o.clientWidth;k=true}}}else{j=g.pxself(c,b.size);t=true}else if(b.sizeSet){j=g.pxself(o,b.size);t=true}var r=0;if(o&&o.wtGetPS&&a==1)r=o.wtGetPS(o,c,a,0);d=i[2];if(d<b.minSize)d=b.minSize;if(b.maxSize&&!b.sizeSet){j=Math.min(d,b.maxSize)+r;v(o,b.size,j+Z(o,a)+"px")&&T&&T.setElDirty(N);j=j;d=t=true}b.cSize=j;if(a==1&&o&&o.wtResize){h=e.cSize;
d=b.cSize;o.wtResize(o,Math.round(h),Math.round(d),true)}j-=r;if(!t){t=0;if(typeof b.cPadding==="undefined"){t=k?J(o,a):Z(o,a);b.cPadding=t}else t=b.cPadding;j-=t}b.initialized=true;if(!(o&&j<=0)){if(j<i[3]-r)j=i[3]-r;k=[];o=b.config.length;t=e.config.length;for(d=0;d<o;++d)b.stretched[d]=false;if(j>=i[3]-r){r=j-i[4];h=[];var l=[0,0],q=[0,0],n=0;for(d=0;d<o;++d)if(i[1][d]>-1){m=-1;if(typeof b.fixedSize[d]!=="undefined"&&(d+1==o||i[1][d+1]>-1))m=b.fixedSize[d];else if(b.config[d][1]!==0&&b.config[d][1][0]>=
0){m=b.config[d][1][0];if(b.config[d][1][1])m=(j-i[4])*m/100}if(m>=0){h[d]=-1;k[d]=m;r-=k[d]}else{if(b.config[d][0]>0){m=1;h[d]=b.config[d][0];n+=h[d]}else{m=0;h[d]=0}l[m]+=i[1][d];q[m]+=i[0][d];k[d]=i[0][d]}}else{h[d]=-2;k[d]=-1}if(n==0){for(d=0;d<o;++d)if(h[d]==0){h[d]=1;++n}q[1]=q[0];l[1]=l[0];q[0]=0;l[0]=0}if(r>q[0]+l[1]){r-=q[0];if(r>q[1]){if(b.fitSize){r-=q[1];r=r/n;for(d=0;d<o;++d)if(h[d]>0){k[d]+=Math.round(h[d]*r);b.stretched[d]=true}}}else{m=1;if(r<l[m])r=l[m];r=q[m]-l[m]>0?(r-l[m])/(q[m]-
l[m]):0;for(d=0;d<o;++d)if(h[d]>0){l=i[0][d]-i[1][d];k[d]=i[1][d]+Math.round(l*r)}}}else{for(d=0;d<o;++d)if(h[d]>0)k[d]=i[1][d];r-=l[1];m=0;if(r<l[m])r=l[m];r=q[m]-l[m]>0?(r-l[m])/(q[m]-l[m]):0;for(d=0;d<o;++d)if(h[d]==0){l=i[0][d]-i[1][d];k[d]=i[1][d]+Math.round(l*r)}}}else k=i[1];b.sizes=k;i=b.margins[1];r=true;l=false;for(d=0;d<o;++d){if(k[d]>-1){var f=l;if(l){h=H+"-rs"+a+"-"+d;l=g.getElement(h);if(!l){l=document.createElement("div");l.setAttribute("id",h);l.di=d;l.style.position="absolute";l.style[e.left]=
e.margins[1]+"px";l.style[b.size]=b.margins[0]+"px";if(e.cSize)l.style[e.size]=e.cSize-e.margins[2]-e.margins[1]+"px";l.className=b.handleClass;c.insertBefore(l,c.firstChild);l.onmousedown=l.ontouchstart=function(M){ia(a,this,M||window.event)}}i+=2;v(l,b.left,i+"px");i+=2}l=b.config[d][1]!==0;if(r)r=false;else i+=b.margins[0]}for(q=0;q<t;++q)if((n=b.getItem(d,q))&&n.w){h=n.w;m=Math.max(k[d],0);if(n.span){var p,C=l;for(p=1;p<n.span[a];++p){if(d+p>=k.length)break;if(C)m+=4;C=b.config[d+p][1]!==0;if(k[d+
p-1]>-1&&k[d+p]>-1)m+=b.margins[0];m+=k[d+p]}}var D;v(h,"visibility","");C=n.align>>b.alignBits&15;p=n.ps[a];if(m<p)C=0;if(C){switch(C){case 1:D=i;break;case 4:D=i+(m-p)/2;break;case 2:D=i+(m-p);break}p-=n.margin[a];if(n.layout){v(h,b.size,p+"px")&&R(n,1);n.set[a]=true}else if(m>=p&&n.set[a]){v(h,b.size,p+"px")&&R(n,1);n.set[a]=false}n.size[a]=p;n.psize[a]=p}else{C=Math.max(0,m-n.margin[a]);D=a==0&&n.sc[a];if(!(h.style.display==="none"&&!h.ed)&&(D||m!=p||n.layout)){if(v(h,b.size,C+"px")){if(!g.isIE&&
(g.hasTag(h,"TEXTAREA")||g.hasTag(h,"INPUT"))){v(h,"margin-"+b.left,n.margin[a]/2+"px");v(h,"margin-"+e.left,n.margin[!a]/2+"px")}R(n,1);n.set[a]=true}}else if(n.fs[a])a==0&&v(h,b.size,n.fs[a]+"px");else{v(h,b.size,"")&&R(n,1);n.set[a]=false}D=i;n.size[a]=C;n.psize[a]=m}if(Q)if(f){v(h,b.left,"4px");m=g.css(h,"position");if(m!=="absolute")h.style.position="relative"}else v(h,b.left,"0px");else v(h,b.left,D+"px");if(a==1){if(h.wtResize)h.wtResize(h,n.set[0]?Math.round(n.size[0]):-1,n.set[1]?Math.round(n.size[1]):
-1,true);n.dirty=0}}if(k[d]>-1)i+=k[d]}$(c).children("."+e.handleClass).css(b.size,j-b.margins[2]-b.margins[1]+"px")}}var g=G.WT;this.ancestor=null;this.descendants=[];var S=this,A=y,L=true,X=true,aa=false,T=null,N=null,ba=false,ca=false,U=[],da=false,Y=$(document.body).hasClass("Wt-rtl"),u=[{initialized:false,config:A.cols,margins:x,maxSize:s,measures:[],sizes:[],stretched:[],fixedSize:[],Left:Y?"Right":"Left",left:Y?"right":"left",Right:Y?"Left":"Right",Size:"Width",size:"width",alignBits:0,getItem:function(a,
c){return A.items[c*u[0].config.length+a]},setItem:function(a,c,b){A.items[c*u[0].config.length+a]=b},handleClass:"Wt-vrh2",resizeDir:"h",resizerClass:"Wt-hsh2",fitSize:O},{initialized:false,config:A.rows,margins:z,maxSize:F,measures:[],sizes:[],stretched:[],fixedSize:[],Left:"Top",left:"top",Right:"Bottom",Size:"Height",size:"height",alignBits:4,getItem:function(a,c){return A.items[a*u[0].config.length+c]},setItem:function(a,c,b){A.items[a*u[0].config.length+c]=b},handleClass:"Wt-hrh2",resizeDir:"v",
resizerClass:"Wt-vsh2",fitSize:P}];jQuery.data(document.getElementById(H),"layout",this);this.updateSizeInParent=function(a){if(T)if(ba){var c=u[a],b=c.measures[2];if(c.maxSize>0)b=Math.min(c.maxSize,b);if(da){c=g.getElement(H);if(!c)return;for(var e=c,i=e.parentNode;;){if(i.wtGetPS)b=i.wtGetPS(i,e,a,b);b+=V(i,a);if(i==N)break;if(a==1&&i==c.parentNode&&!i.lh&&i.offsetHeight>b)b=i.offsetHeight;e=i;i=e.parentNode}}else b+=U[a];T.setChildSize(N,a,b)}};this.setConfig=function(a){var c=A;A=a;u[0].config=
A.cols;u[1].config=A.rows;u[0].stretched=[];u[1].stretched=[];var b;a=0;for(b=c.items.length;a<b;++a){var e=c.items[a];if(e){if(e.set){e.set[0]&&v(e.w,u[0].size,"");e.set[1]&&v(e.w,u[1].size,"")}if(e.layout){S.setChildSize(e.w,0,e.ps[0]);S.setChildSize(e.w,1,e.ps[1])}}}L=X=true;G.layouts2.scheduleAdjust()};this.getId=function(){return H};this.setElDirty=function(a){var c,b;c=0;for(b=A.items.length;c<b;++c){var e=A.items[c];if(e&&e.id==a.id){e.dirty=2;L=true;G.layouts2.scheduleAdjust();return}}};this.setItemsDirty=
function(a){var c,b,e=u[0].config.length;c=0;for(b=a.length;c<b;++c){var i=A.items[a[c][0]*e+a[c][1]];i.dirty=2;if(i.layout){i.layout=false;i.wasLayout=true;G.layouts2.setChildLayoutsDirty(S,i.w)}}L=true};this.setDirty=function(){X=true};this.setAllDirty=function(){var a,c;a=0;for(c=A.items.length;a<c;++a){var b=A.items[a];if(b)b.dirty=2}L=true};this.setChildSize=function(a,c,b){var e=u[0].config.length,i=u[c],j,k;j=0;for(k=A.items.length;j<k;++j){var t=A.items[j];if(t&&t.id==a.id){a=c===0?j%e:j/
e;if(t.align>>i.alignBits&15||!i.stretched[a]){if(!t.ps)t.ps=[];t.ps[c]=b}t.layout=true;R(t,1);break}}};this.measure=function(a){var c=g.getElement(H);if(c)if(!g.isHidden(c)){if(!ca){ca=true;aa=I==null;ba=true;if(aa){var b=c;b=b.parentNode;for(U=[0,0];b!=document;){U[0]+=V(b,0);U[1]+=V(b,1);if(b.wtGetPS)da=true;var e=jQuery.data(b.parentNode,"layout");if(e){T=e;N=b;break}b=b;b=b.parentNode;if(b.childNodes.length!=1&&!b.wtGetPS)ba=false}b=c.parentNode;for(e=0;e<2;++e)u[e].sizeSet=g.pxself(b,u[e].size)!=
0}else{T=jQuery.data(document.getElementById(I),"layout");N=c;U[0]=V(N,0);U[1]=V(N,1)}}if(L||X){b=aa?c.parentNode:null;ea(a,c,b)}if(a==1)L=X=false}};this.setMaxSize=function(a,c){u[0].maxSize=a;u[1].maxSize=c};this.apply=function(a){var c=g.getElement(H);if(!c)return false;if(g.isHidden(c))return true;ja(a,c);return true};this.contains=function(a){var c=g.getElement(H);a=g.getElement(a.getId());return c&&a?g.contains(c,a):false};this.WT=g});
WT_DECLARE_WT_MEMBER(2,JavaScriptPrototype,"StdLayout2.prototype.initResize",function(){this.resizeInitialized=true});
WT_DECLARE_APP_MEMBER(1,JavaScriptObject,"layouts2",new (function(){var G=[],H=false,I=this,O=false;this.find=function(s){return jQuery.data(document.getElementById(s),"layout")};this.setDirty=function(s){if(s=this.find(s)){s.setDirty();I.scheduleAdjust()}};this.setElementDirty=function(s){var F=s;for(s=s.parentNode;s&&s!=document.body;){var x=jQuery.data(s,"layout");x&&x.setElDirty(F);F=s;s=s.parentNode}};this.setChildLayoutsDirty=function(s,F){var x,z;x=0;for(z=s.descendants.length;x<z;++x){var y=
s.descendants[x];if(F){var B=s.WT.getElement(y.getId());if(B&&!s.WT.contains(F,B))continue}y.setDirty()}};this.add=function(s){function F(x,z){var y,B;y=0;for(B=x.length;y<B;++y){var w=x[y];if(w.getId()==z.getId()){x[y]=z;z.descendants=w.descendants;return}else if(w.contains(z)){F(w.descendants,z);return}else if(z.contains(w)){z.descendants.push(w);x.splice(y,1);--y;--B}}x.push(z)}F(G,s);I.scheduleAdjust()};var P=false;this.scheduleAdjust=function(s){if(s)O=true;if(!P){P=true;setTimeout(function(){I.adjust()},
0)}};this.adjust=function(s,F){function x(y,B){var w,K;w=0;for(K=y.length;w<K;++w){var J=y[w];x(J.descendants,B);if(B==1&&O)J.setDirty();else B==0&&J.setAllDirty();J.measure(B)}}function z(y,B){var w,K;w=0;for(K=y.length;w<K;++w){var J=y[w];if(J.apply(B))z(J.descendants,B);else{y.splice(w,1);--w;--K}}}if(s){(s=this.find(s))&&s.setItemsDirty(F);I.scheduleAdjust()}else{P=false;if(!H){H=true;x(G,0);z(G,0);x(G,1);z(G,1);O=H=false}}};this.updateConfig=function(s,F){(s=this.find(s))&&s.setConfig(F)};this.adjustNow=
function(){P&&I.adjust()};var Q=null;window.onresize=function(){clearTimeout(Q);Q=setTimeout(function(){Q=null;I.scheduleAdjust(true)},20)};window.onshow=function(){O=true;I.adjust()}}));
