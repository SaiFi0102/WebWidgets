# We set:
# - SKIA_INCLUDE_DIRS
# - SKIA_LIBRARIES
# - SKIA_FOUND
# Taking into account:
# - SKIA_PREFIX

SET(SKIA_FOUND TRUE)

FIND_PATH(SKIA_BASE_INCLUDE_DIR
    core/SkBitmap.h
  PATHS
    ${SKIA_PREFIX}/include
)

SET(SKIA_INCLUDE_DIRS
  ${SKIA_BASE_INCLUDE_DIR}/core
  ${SKIA_BASE_INCLUDE_DIR}/config
  ${SKIA_BASE_INCLUDE_DIR}/images
  ${SKIA_BASE_INCLUDE_DIR}/effects
  ${SKIA_BASE_INCLUDE_DIR}/lazy
)

IF(WIN32)
  SET(SKIA_DEBUG ${SKIA_PREFIX}/out/Debug)
  SET(SKIA_RELEASE ${SKIA_PREFIX}/out/Release)
  FIND_LIBRARY(SKIA_CORE_LIB_D NAMES skia_core PATHS ${SKIA_DEBUG})
  FIND_LIBRARY(SKIA_PORTS_LIB_D NAMES skia_ports PATHS ${SKIA_DEBUG})
  FIND_LIBRARY(SKIA_OPTS_LIB_D NAMES skia_opts PATHS ${SKIA_DEBUG})
  FIND_LIBRARY(SKIA_IMAGES_LIB_D NAMES skia_images PATHS ${SKIA_DEBUG})
  FIND_LIBRARY(SKIA_UTILS_LIB_D NAMES skia_utils PATHS ${SKIA_DEBUG})
  FIND_LIBRARY(SKIA_OPTS_SSSE3_LIB_D NAMES skia_opts_ssse3 PATHS ${SKIA_DEBUG})
  FIND_LIBRARY(SKIA_EFFECTS_LIB_D NAMES skia_effects PATHS ${SKIA_DEBUG})
  FIND_LIBRARY(SKIA_SFNT_LIB_D NAMES skia_sfnt PATHS ${SKIA_DEBUG})
  FIND_LIBRARY(SKIA_SKGPU_LIB_D NAMES skia_skgpu PATHS ${SKIA_DEBUG})

  FIND_LIBRARY(SKIA_CORE_LIB_R NAMES skia_core PATHS ${SKIA_RELEASE})
  FIND_LIBRARY(SKIA_PORTS_LIB_R NAMES skia_ports PATHS ${SKIA_RELEASE})
  FIND_LIBRARY(SKIA_OPTS_LIB_R NAMES skia_opts PATHS ${SKIA_RELEASE})
  FIND_LIBRARY(SKIA_IMAGES_LIB_R NAMES skia_images PATHS ${SKIA_RELEASE})
  FIND_LIBRARY(SKIA_UTILS_LIB_R NAMES skia_utils PATHS ${SKIA_RELEASE})
  FIND_LIBRARY(SKIA_OPTS_SSSE3_LIB_R NAMES skia_opts_ssse3 PATHS ${SKIA_RELEASE})
  FIND_LIBRARY(SKIA_EFFECTS_LIB_R NAMES skia_effects PATHS ${SKIA_RELEASE})
  FIND_LIBRARY(SKIA_SFNT_LIB_R NAMES skia_sfnt PATHS ${SKIA_RELEASE})
  FIND_LIBRARY(SKIA_SKGPU_LIB_R NAMES skia_skgpu PATHS ${SKIA_RELEASE})

  # Assume that if we find core, we find the rest too
  IF(SKIA_BASE_INCLUDE_DIR AND SKIA_CORE_LIB_R AND SKIA_CORE_LIB_D)
    SET(SKIA_FOUND TRUE)
    SET(SKIA_LIBRARIES
      optimized ${SKIA_CORE_LIB_R}
      debug ${SKIA_CORE_LIB_D}
      optimized ${SKIA_PORTS_LIB_R}
      debug ${SKIA_PORTS_LIB_D}
      optimized ${SKIA_OPTS_LIB_R}
      debug ${SKIA_OPTS_LIB_D}
      optimized ${SKIA_IMAGES_LIB_R}
      debug ${SKIA_IMAGES_LIB_D}
      optimized ${SKIA_UTILS_LIB_R}
      debug ${SKIA_UTILS_LIB_D}
      optimized ${SKIA_OPTS_SSSE3_LIB_R}
      debug ${SKIA_OPTS_SSSE3_LIB_D}
      optimized ${SKIA_EFFECTS_LIB_R}
      debug ${SKIA_EFFECTS_LIB_D}
      optimized ${SKIA_SFNT_LIB_R}
      debug ${SKIA_SFNT_LIB_D}
      optimized ${SKIA_SKGPU_LIB_R}
      debug ${SKIA_SKGPU_LIB_D}
      Usp10.lib
      Opengl32.lib
    )
  ENDIF(SKIA_BASE_INCLUDE_DIR AND SKIA_CORE_LIB_R AND SKIA_CORE_LIB_D)
ENDIF(WIN32)


